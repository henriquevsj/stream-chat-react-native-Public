# CodeQL results 

CodeQL provides its results through its graphical interface available via the link: [Security Results](https://github.com/henriquevsj/stream-chat-react-native-Public/security/code-scanning)

Below is a table with the first 25 alerts just to make it easier to read, in addition to the description of 3 issues found:

**Incomplete string escaping or encoding**
- Description: Sanitizing untrusted input is a common technique for preventing injection attacks such as SQL injection or cross-site scripting.
Usually, this is done by escaping meta-characters such as quotes in a domain-specific way so that they are treated as normal characters.
  
- Severity: High
  
- An attack scenario:
  
  A web application that accepts user input and incorporates it into SQL queries to fetch information from a database.
  If the application does not properly escape or encode user input, a malicious attacker could exploit this vulnerability to perform SQL Injection.
  
  The web application allows users to enter their username into an input field.
  
  The user-supplied username is not properly handled to escape special characters.
  
  A malicious attacker enters the following as their username: '; DROP TABLE Users; --

- How to mitigate:

  Instead of directly incorporating user input into SQL queries, use prepared queries or parameters, which separate user data from SQL statements.
  This way, databases understand that user input is data and not SQL commands.
  If possible use a sanitization library. These libraries are much more likely to handle corner cases correctly than a custom implementation.


**Insecure randomness**
- Description: Using a cryptographically weak pseudo-random number generator to generate a security-sensitive value, such as a password, makes it easier for an attacker to predict the value.
  
- Severity: High
  
- An attack scenario:

  Suppose a web application or system uses random numbers to generate temporary passwords or authentication tokens for users.
  However, the system does not implement a suitable entropy source or uses a weak random number generator, making the generated numbers predictable.

  A malicious attacker notices the predictability of the numbers generated by the system.

  The attacker launches a brute force attack, or uses a specific tool to guess temporary passwords or authentication tokens generated by the system, based on the predictability of random numbers.

  As a result, the attacker can access user accounts, perform unauthorized authentications, or even perform replay attacks, where predictable tokens are used to access protected accounts or resources.
  
- How to mitigate:
  
  To mitigate this, it is important to adopt appropriate security practices. Being them:
  - Use safe entropy sources
  - Use trusted libraries
  - Use cryptographically secure generators
  - Implement key rotation policies

 **Incomplete URL substring sanitization**
- Description: Sanitizing untrusted URLs is an important technique for preventing attacks such as request forgeries and malicious redirections.
Usually, this is done by checking that the host of a URL is in a set of allowed hosts.
  
- Severity: High
  
- An attack scenario:

  It can occur when a web application does not correctly handle URLs or parts of URLs entered by users, allowing the injection of malicious code or the execution of unauthorized actions.

  An attacker examines a web application that does not perform adequate sanitization on user-supplied URLs.

  It creates a malicious URL containing malicious JavaScript code and provides it as input to the web application.

  The web application does not properly validate or sanitize the incoming URL. Consequently, the malicious JavaScript code is executed in the browser context of the user accessing the URL.
  This can lead to a variety of malicious actions such as stealing session cookies, redirecting to malicious websites or displaying harmful content.
  
- How to mitigate:
  - Validate and sanitize inputs
  - Use Whitelists
  - Encode URLs Properly
  - Use HTTP-only and Secure Cookies
  - Implement a WAF (Web Application Firewall)
  
  


| # | Issue Title                            | Priority | Date Opened    | Detected by            | Location                                       | Branch |
|---|----------------------------------------|----------|----------------|------------------------|------------------------------------------------|--------|
| 1 | Incomplete string escaping or encoding | High     | 2 days ago     | CodeQL                 | package/.../utils/renderText.tsx:123          | master |
| 2 | Incomplete string escaping or encoding | High     | 2 days ago     | CodeQL                 | docs/.../build/bundle.a39375a1.js:2           | master |
| 3 | Incomplete string escaping or encoding | High     | 2 days ago     | CodeQL                 | docs/build/bundle.38535de9.js:2               | master |
| 4 | Incomplete string escaping or encoding | High     | 2 days ago     | CodeQL                 | docs/build/bundle.38535de9.js:2               | master |
| 5 | Incomplete string escaping or encoding | High     | 2 days ago     | CodeQL                 | docs/.../build/bundle.a39375a1.js:2           | master |
| 6 | Incomplete string escaping or encoding | High     | 2 days ago     | CodeQL                 | docs/build/bundle.38535de9.js:2               | master |
| 7 | Incomplete string escaping or encoding | High     | 2 days ago     | CodeQL                 | docs/.../build/bundle.a39375a1.js:2           | master |
| 8 | Incomplete multi-character sanitization | High     | 2 days ago     | CodeQL                 | docs/build/bundle.38535de9.js:2               | master |
| 9 | Incomplete multi-character sanitization | High     | 2 days ago     | CodeQL                 | docs/.../build/bundle.a39375a1.js:2           | master |
|10 | Incomplete multi-character sanitization | High     | 2 days ago     | CodeQL                 | docs/build/bundle.38535de9.js:2               | master |
|11 | Incomplete multi-character sanitization | High     | 2 days ago     | CodeQL                 | docs/.../build/bundle.a39375a1.js:2           | master |
|12 | Insecure randomness                     | High     | 2 days ago     | CodeQL                 | package/.../offline-support/optimistic-update.js:76 | master |
|13 | Insecure randomness                     | High     | 2 days ago     | CodeQL                 | package/.../offline-support/offline-feature.js:152 | master |
|14 | Insecure randomness                     | High     | 2 days ago     | CodeQL                 | docs/.../build/bundle.a39375a1.js:2           | master |
|15 | Insecure randomness                     | High     | 2 days ago     | CodeQL                 | docs/build/bundle.38535de9.js:2               | master |
|16 | Incomplete URL substring sanitization  | High     | 2 days ago     | CodeQL                 | package/.../Avatar/GroupAvatar.tsx:145       | master |
|17 | Incomplete URL substring sanitization  | High     | 2 days ago     | CodeQL                 | package/.../Avatar/GroupAvatar.tsx:144       | master |
|18 | Incomplete URL substring sanitization  | High     | 2 days ago     | CodeQL                 | package/.../Avatar/Avatar.tsx:116            | master |
|19 | Incomplete URL substring sanitization  | High     | 2 days ago     | CodeQL                 | package/.../Avatar/Avatar.tsx:115            | master |
|20 | Incomplete URL substring sanitization  | High     | 2 days ago     | CodeQL                 | package/.../Avatar/Avatar.tsx:114            | master |
|21 | Incomplete URL substring sanitization  | High     | 2 days ago     | CodeQL                 | docs/.../build/bundle.a39375a1.js:2           | master |
|22 | Incomplete URL substring sanitization  | High     | 2 days ago     | CodeQL                 | docs/.../build/bundle.a39375a1.js:2           | master |
|23 | Incomplete URL substring sanitization  | High     | 2 days ago     | CodeQL                 | docs/.../build/bundle.a39375a1.js:2           | master |
|24 | Incomplete URL substring sanitization  | High     | 2 days ago     | CodeQL                 | docs/.../build/bundle.a39375a1.js:2           | master |
|25 | Incomplete URL substring sanitization  | High     | 2 days ago     | CodeQL                 | docs/.../build/bundle.a39375a1.js:2           | master |
